---
title: "eiCompare: Ecological Inference"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{my-vignette}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

This vignette illustrates how we can use the Ecological Inference (EI) tools 
within `eiCompare` to learn about the voting behavior of different groups of 
voters. 

## The ecological inference problem

Ecological Inference involves estimating the voting behaviors of different 
groups of voters using only data about election results and the number of people
from each group that turned out to vote. Elections in the United States, and 
much of the rest of the world, use secret
ballots that ensure confidentiality for every voter. Voter 
confidentiality is important for a functioning democracy, but it presents a 
problem for the study of voter behavior. We cannot directly measure how people
vote in an election. Intead, we have to make inferences about how people vote 
using election results and information about voter turnout. We often end up with
datasets like this one, which contains aggregate election results and turnout 
information for each election precinct in Orange County, Florida:

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)

library(eiCompare)

path <- "/home/jovyan/shared/week_1_2/"
file <- paste0(path, "oc_florida_2006_schoolboard.csv")
oc <- read.csv(file)
oc <- oc %>% dplyr::select(-totalvote)
names(oc)[5:7] <- c("white", "latino", "black")
```

```{r}
head(oc)
```

This dataset contains the following columns:

- `precinct` - This uniquely identifies each precinct in the county.
- `cardona`, `flynn`, `kelly` - These indicate the number of votes cast 
for each of the candidates in the election.
- `white`, `latino`, `black` - These indicate the number of voters who 
turned out to each precinct identifying with these racial groups.

Whereas the votes cast by individuals cannot be measured, these aggregate 
measures are readily available. Official organizations across the United States 
publish election results data. Getting the number of people identifying with 
each race category can be more complicated. For tutorials on how to estimate the 
racial demographics of voters, see the vignette on 
[Bayesian Improved Surname Geocoding](BISG.com).

From here we can begin conducting ecological inference.

```{r}
nrow(oc)
```

We have this information for the forty four precincts in the county. 
